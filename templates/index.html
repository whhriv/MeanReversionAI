<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="./main.css" rel="stylesheet" >
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">


    <title>Investing for ID10T$</title>
    <!-- <style>
        /* Custom styles for the spinner */
        .spinner-container {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }
    </style> -->
</head>
<body class="ps-4 pt-3">
    <h1>Investing for ID10T$</h1>
     <form id="analyze-form" action="/analyze" method="get" onsubmit="showSpinner()">

        <label for="ticker">Ticker:</label>
        <input type="text" id="ticker" name="ticker" required><br><br>

        <label for="start_date">Start Date (YYYY-MM-DD):</label>
        <input type="date" id="start_date" name="start_date" required><br><br>

        <label for="end_date">End Date (YYYY-MM-DD):</label>
        <input type="date" id="end_date" name="end_date" required><br><br>

        <input type="submit" value="Analyze">
    </form>

    <!-- <div id="spinner" class="spinner-container d-flex">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div> -->

    {% if result %}
        <h2 class="pe-4 mt-3">Analysis Result</h2>
        <table >
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>

            
            {% for item in result %}
                <tr>
                    <td>{{ item.Metric }}</td>
                    <td class="pt-3">{{ item.Value }}</td>
                </tr>
            {% endfor %}
        </table>

    {% endif %}
        {% if sentiment %}
        <h2>Sentiment Analysis</h2>
        <div>{{ sentiment[0].sentiment | safe }}</div>
    {% endif %}
    {% if img_url %}
    <h3 class="mt-3">Mean Reversion Strategy Plot</h3>
    <img src="{{ img_url }}" alt="Mean Reversion Strategy Plot" class="image">
    {% endif %}

    
</body>
</html>
